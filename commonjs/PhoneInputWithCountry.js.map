{"version":3,"sources":["../source/PhoneInputWithCountry.js"],"names":["PhoneNumberInput_","props","React","createRef","country","metadata","newCountry","onChange","state","prevParsedInput","parsedInput","prevCountry","newParsedInput","newValue","getInputRef","current","focus","setState","hasUserSelectedACountry","value","_input","defaultCountry","addInternationalOption","limitMaxLength","countries","input","isFocused","event","_onFocus","onFocus","onBlur","_onBlur","countrySelectProps","labels","countryOptionsOrder","isCountrySupportedWithError","undefined","phoneNumber","CountryIcon","generateParsedInput","onCountryChange","selectedCountry","prevProps","prevState","inputRef","name","disabled","autoComplete","style","className","inputComponent","numberInputProps","smartCaret","CountrySelectComponent","countrySelectComponent","flags","flagComponent","flagUrl","internationalIcon","displayInitialValueAsLocalNumber","reset","rest","InputComponent","InputSmart","InputBasic","countrySelectOptions","useMemoCountrySelectOptions","onCountryFocus","onCountryBlur","prevDefaultCountry","prevValue","prevReset","newDefaultCountry","newReset","newState","parsedCountry","indexOf","PureComponent","PhoneNumberInput","forwardRef","ref","propTypes","PropTypes","string","func","isRequired","onKeyDown","bool","arrayOf","labelsPropType","objectOf","elementType","object","metadataPropType","defaultProps","Flag","InternationalIcon","any","countrySelectOptionsMemo","countrySelectOptionsMemoDependencies","generator","dependencies","areEqualArrays","a","b","length","i"],"mappings":"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","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport classNames from 'classnames'\n\nimport InputSmart from './InputSmart'\nimport InputBasic from './InputBasic'\n\nimport Flag from './Flag'\nimport InternationalIcon from './InternationalIcon'\n\nimport {\n\tsortCountryOptions,\n\tisCountrySupportedWithError,\n\tgetSupportedCountries,\n\tgetSupportedCountryOptions,\n\tgetCountries\n} from './countries'\n\nimport { createCountryIconComponent } from './CountryIcon'\n\nimport {\n\tmetadata as metadataPropType,\n\tlabels as labelsPropType\n} from './PropTypes'\n\nimport {\n\tgetPreSelectedCountry,\n\tgetCountrySelectOptions,\n\tparsePhoneNumber,\n\tgenerateNationalNumberDigits,\n\tmigrateParsedInputForNewCountry,\n\tgetCountryForPartialE164Number,\n\tparseInput,\n\te164\n} from './phoneInputHelpers'\n\nclass PhoneNumberInput_ extends React.PureComponent {\n\tinputRef = React.createRef()\n\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tconst {\n\t\t\tvalue,\n\t\t\tlabels,\n\t\t\taddInternationalOption,\n\t\t\tmetadata,\n\t\t\tcountryOptionsOrder\n\t\t} = this.props\n\n\t\tlet {\n\t\t\tdefaultCountry,\n\t\t\tcountries\n\t\t} = this.props\n\n\t\t// Validate `defaultCountry`.\n\t\tif (defaultCountry) {\n\t\t\tif (!this.isCountrySupportedWithError(defaultCountry)) {\n\t\t\t\tdefaultCountry = undefined\n\t\t\t}\n\t\t}\n\n\t\t// Validate `countries`.\n\t\tcountries = getSupportedCountries(countries, metadata)\n\n\t\tconst phoneNumber = parsePhoneNumber(value, metadata)\n\n\t\tthis.CountryIcon = createCountryIconComponent(this.props)\n\n\t\tthis.state = {\n\t\t\t// Workaround for `this.props` inside `getDerivedStateFromProps()`.\n\t\t\tprops: this.props,\n\n\t\t\t// The country selected.\n\t\t\tcountry: getPreSelectedCountry(\n\t\t\t\tphoneNumber,\n\t\t\t\tdefaultCountry,\n\t\t\t\tcountries || getCountries(metadata),\n\t\t\t\taddInternationalOption,\n\t\t\t\tmetadata\n\t\t\t),\n\n\t\t\t// `countries` are stored in `this.state` because they're filtered.\n\t\t\t// For example, a developer might theoretically pass some unsupported\n\t\t\t// countries as part of the `countries` property, and because of that\n\t\t\t// the component uses `this.state.countries` (which are filtered)\n\t\t\t// instead of `this.props.countries`\n\t\t\t// (which could potentially contain unsupported countries).\n\t\t\tcountries,\n\n\t\t\t// `parsedInput` state property holds non-formatted user's input.\n\t\t\t// The reason is that there's no way of finding out\n\t\t\t// in which form should `value` be displayed: international or national.\n\t\t\t// E.g. if `value` is `+78005553535` then it could be input\n\t\t\t// by a user both as `8 (800) 555-35-35` and `+7 800 555 35 35`.\n\t\t\t// Hence storing just `value`is not sufficient for correct formatting.\n\t\t\t// E.g. if a user entered `8 (800) 555-35-35`\n\t\t\t// then value is `+78005553535` and `parsedInput` is `88005553535`\n\t\t\t// and if a user entered `+7 800 555 35 35`\n\t\t\t// then value is `+78005553535` and `parsedInput` is `+78005553535`.\n\t\t\tparsedInput: generateParsedInput(value, phoneNumber, this.props),\n\n\t\t\t// `value` property is duplicated in state.\n\t\t\t// The reason is that `getDerivedStateFromProps()`\n\t\t\t// needs this `value` to compare to the new `value` property\n\t\t\t// to find out if `parsedInput` needs updating:\n\t\t\t// If the `value` property was changed externally\n\t\t\t// then it won't be equal to `state.value`\n\t\t\t// in which case `parsedInput` and `country` should be updated.\n\t\t\tvalue\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { onCountryChange } = this.props\n\t\tlet { defaultCountry } = this.props\n\t\tconst { country: selectedCountry } = this.state\n\t\tif (onCountryChange) {\n\t\t\tif (defaultCountry) {\n\t\t\t\tif (!this.isCountrySupportedWithError(defaultCountry)) {\n\t\t\t\t\tdefaultCountry = undefined\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (selectedCountry !== defaultCountry) {\n\t\t\t\tonCountryChange(selectedCountry)\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tconst { onCountryChange } = this.props\n\t\tconst { country } = this.state\n\t\t// Call `onCountryChange` when user selects another country.\n\t\tif (onCountryChange && country !== prevState.country) {\n\t\t\tonCountryChange(country)\n\t\t}\n\t}\n\n\t// A shorthand for not passing `metadata` as a second argument.\n\tisCountrySupportedWithError = (country) => {\n\t\tconst { metadata } = this.props\n\t\treturn isCountrySupportedWithError(country, metadata)\n\t}\n\n\t// Country `<select/>` `onChange` handler.\n\tonCountryChange = (newCountry) => {\n\t\tconst {\n\t\t\tmetadata,\n\t\t\tonChange\n\t\t} = this.props\n\n\t\tconst {\n\t\t\tparsedInput: prevParsedInput,\n\t\t\tcountry: prevCountry\n\t\t} = this.state\n\n\t\t// After the new `country` has been selected,\n\t\t// if the phone number `<input/>` holds any digits\n\t\t// then migrate those digits for the new `country`.\n\t\tconst newParsedInput = migrateParsedInputForNewCountry(\n\t\t\tprevParsedInput,\n\t\t\tprevCountry,\n\t\t\tnewCountry,\n\t\t\tmetadata,\n\t\t\t// Convert the phone number to \"national\" format\n\t\t\t// when the user changes the selected country by hand.\n\t\t\ttrue\n\t\t)\n\n\t\tconst newValue = e164(newParsedInput, newCountry, metadata)\n\n\t\t// Focus phone number `<input/>` upon country selection.\n\t\tthis.getInputRef().current.focus()\n\n\t\t// If the user has already manually selected a country\n\t\t// then don't override that already selected country\n\t\t// if the `defaultCountry` property changes.\n\t\t// That's what `hasUserSelectedACountry` flag is for.\n\n\t\tthis.setState({\n\t\t\tcountry: newCountry,\n\t\t\thasUserSelectedACountry: true,\n\t\t\tparsedInput: newParsedInput,\n\t\t\tvalue: newValue\n\t\t},\n\t\t() => {\n\t\t\t// Update the new `value` property.\n\t\t\t// Doing it after the `state` has been updated\n\t\t\t// because `onChange()` will trigger `getDerivedStateFromProps()`\n\t\t\t// with the new `value` which will be compared to `state.value` there.\n\t\t\tonChange(newValue)\n\t\t})\n\t}\n\n\t/**\n\t * `<input/>` `onChange()` handler.\n\t * Updates `value` property accordingly (so that they are kept in sync).\n\t * @param {string?} input — Either a parsed phone number or an empty string. Examples: `\"\"`, `\"+\"`, `\"+123\"`, `\"123\"`.\n\t */\n\tonChange = (_input) => {\n\t\tconst {\n\t\t\tdefaultCountry,\n\t\t\tonChange,\n\t\t\taddInternationalOption,\n\t\t\tlimitMaxLength,\n\t\t\tmetadata\n\t\t} = this.props\n\n\t\tconst {\n\t\t\tinput,\n\t\t\tcountry,\n\t\t\tvalue\n\t\t} = parseInput(\n\t\t\t_input,\n\t\t\tthis.state.parsedInput,\n\t\t\tthis.state.country,\n\t\t\tdefaultCountry,\n\t\t\tthis.state.countries,\n\t\t\taddInternationalOption,\n\t\t\tlimitMaxLength,\n\t\t\tmetadata\n\t\t)\n\n\t\tthis.setState({\n\t\t\tparsedInput: input,\n\t\t\tvalue,\n\t\t\tcountry\n\t\t},\n\t\t// Update the new `value` property.\n\t\t// Doing it after the `state` has been updated\n\t\t// because `onChange()` will trigger `getDerivedStateFromProps()`\n\t\t// with the new `value` which will be compared to `state.value` there.\n\t\t() => onChange(value))\n\t}\n\n\t// Toggles the `--focus` CSS class.\n\t_onFocus = () => true\n\n\t// Toggles the `--focus` CSS class.\n\t_onBlur = () => this.setState({ isFocused: false })\n\n\tonFocus = (event) => {\n\t\tthis._onFocus()\n\t\tconst { onFocus } = this.props\n\t\tif (onFocus) {\n\t\t\tonFocus(event)\n\t\t}\n\t}\n\n\tonBlur = (event) => {\n\t\tconst { onBlur } = this.props\n\t\tthis._onBlur()\n\t\tif (onBlur) {\n\t\t\tonBlur(event)\n\t\t}\n\t}\n\n\tonCountryFocus = (event) => {\n\t\tthis._onFocus()\n\t\t// this.setState({ countrySelectFocused: true })\n\t\tconst { countrySelectProps } = this.props\n\t\tif (countrySelectProps) {\n\t\t\tconst { onFocus } = countrySelectProps\n\t\t\tif (onFocus) {\n\t\t\t\tonFocus(event)\n\t\t\t}\n\t\t}\n\t}\n\n\tonCountryBlur = (event) => {\n\t\tthis._onBlur()\n\t\t// this.setState({ countrySelectFocused: false })\n\t\tconst { countrySelectProps } = this.props\n\t\tif (countrySelectProps) {\n\t\t\tconst { onBlur } = countrySelectProps\n\t\t\tif (onBlur) {\n\t\t\t\tonBlur(event)\n\t\t\t}\n\t\t}\n\t}\n\n\tgetInputRef() {\n\t\tconst { inputRef } = this.props\n\t\treturn inputRef || this.inputRef\n\t}\n\n\t// `state` holds previous props as `props`, and also:\n\t// * `country` — The currently selected country, e.g. `\"RU\"`.\n\t// * `value` — The currently entered phone number (E.164), e.g. `+78005553535`.\n\t// * `parsedInput` — The parsed `<input/>` value, e.g. `8005553535`.\n\t// (and a couple of other less significant properties)\n\tstatic getDerivedStateFromProps(props, state) {\n\t\tconst {\n\t\t\tcountry,\n\t\t\thasUserSelectedACountry,\n\t\t\tvalue,\n\t\t\tprops: {\n\t\t\t\tdefaultCountry: prevDefaultCountry,\n\t\t\t\tvalue: prevValue,\n\t\t\t\treset: prevReset\n\t\t\t}\n\t\t} = state\n\n\t\tconst {\n\t\t\tmetadata,\n\t\t\tcountries,\n\t\t\tdefaultCountry: newDefaultCountry,\n\t\t\tvalue: newValue,\n\t\t\treset: newReset\n\t\t} = props\n\n\t\tconst newState = {\n\t\t\t// Emulate `prevProps` via `state.props`.\n\t\t\tprops,\n\t\t\t// If the user has already manually selected a country\n\t\t\t// then don't override that already selected country\n\t\t\t// if the `defaultCountry` property changes.\n\t\t\t// That's what `hasUserSelectedACountry` flag is for.\n\t\t\thasUserSelectedACountry\n\t\t}\n\n\t\t// Some users requested a way to reset the component\n\t\t// (both number `<input/>` and country `<select/>`).\n\t\t// Whenever `reset` property changes both number `<input/>`\n\t\t// and country `<select/>` are reset.\n\t\t// It's not implemented as some instance `.reset()` method\n\t\t// because `ref` is forwarded to `<input/>`.\n\t\t// It's also not replaced with just resetting `country` on\n\t\t// external `value` reset, because a user could select a country\n\t\t// and then not input any `value`, and so the selected country\n\t\t// would be \"stuck\", if not using this `reset` property.\n\t\t// https://github.com/catamphetamine/react-phone-number-input/issues/300\n\t\tif (newReset !== prevReset) {\n\t\t\treturn {\n\t\t\t\t...newState,\n\t\t\t\tparsedInput: undefined,\n\t\t\t\tvalue: undefined,\n\t\t\t\tcountry: newDefaultCountry,\n\t\t\t\thasUserSelectedACountry: undefined\n\t\t\t}\n\t\t}\n\n\t\t// If the default country changed.\n\t\t// (e.g. in case of ajax GeoIP detection after page loaded)\n\t\t// then select it but only if the user hasn't already manually\n\t\t// selected a country and no phone number has been entered so far.\n\t\t// Because if the user has already started inputting a phone number\n\t\t// then he's okay with no country being selected at all (\"International\")\n\t\t// and doesn't want to be disturbed, doesn't want his input to be screwed, etc.\n\t\tif (newDefaultCountry !== prevDefaultCountry &&\n\t\t\t!hasUserSelectedACountry && !value && !newValue) {\n\t\t\treturn {\n\t\t\t\t...newState,\n\t\t\t\tcountry: isCountrySupportedWithError(newDefaultCountry, metadata) ? newDefaultCountry : prevDefaultCountry\n\t\t\t\t// `value` is `undefined`.\n\t\t\t\t// `parsedInput` is `undefined` because `value` is `undefined`.\n\t\t\t}\n\t\t}\n\t\t// If a new `value` is set externally.\n\t\t// (e.g. as a result of an ajax API request\n\t\t//  to get user's phone after page loaded)\n\t\t// The first part — `newValue !== prevValue` —\n\t\t// is basically `props.value !== prevProps.value`\n\t\t// so it means \"if value property was changed externally\".\n\t\t// The second part — `newValue !== value` —\n\t\t// is for ignoring the `getDerivedStateFromProps()` call\n\t\t// which happens in `this.onChange()` right after `this.setState()`.\n\t\t// If this `getDerivedStateFromProps()` call isn't ignored\n\t\t// then the country flag would reset on each input.\n\t\telse if (newValue !== prevValue && newValue !== value) {\n\t\t\tconst phoneNumber = parsePhoneNumber(newValue, metadata)\n\t\t\tlet parsedCountry\n\t\t\tif (phoneNumber) {\n\t\t\t\tconst countries = getSupportedCountries(props.countries, metadata)\n\t\t\t\tif (!countries || countries.indexOf(phoneNumber.country) >= 0) {\n\t\t\t\t\tparsedCountry = phoneNumber.country\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!newValue) {\n\t\t\t\tnewState.hasUserSelectedACountry = undefined\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...newState,\n\t\t\t\tparsedInput: generateParsedInput(newValue, phoneNumber, props),\n\t\t\t\tvalue: newValue,\n\t\t\t\tcountry: newValue ? parsedCountry : newDefaultCountry\n\t\t\t}\n\t\t}\n\n\t\t// `defaultCountry` didn't change.\n\t\t// `value` didn't change.\n\t\t// `parsedInput` didn't change, because `value` didn't change.\n\t\t//\n\t\t// So no need to update state here really.\n\t\t// Could as well return `null` explicitly\n\t\t// to indicate that the `state` hasn't changed.\n\t\t// But just in case, returns `newState`.\n\t\t// (who knows if someone adds something\n\t\t// changing `newState` above in some future)\n\t\treturn newState\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\t// Generic HTML attributes.\n\t\t\tname,\n\t\t\tdisabled,\n\t\t\tautoComplete,\n\t\t\tstyle,\n\t\t\tclassName,\n\n\t\t\t// Number `<input/>` properties.\n\t\t\tinputRef,\n\t\t\tinputComponent,\n\t\t\tnumberInputProps,\n\t\t\tsmartCaret,\n\n\t\t\t// Country `<select/>` properties.\n\t\t\tcountrySelectComponent: CountrySelectComponent,\n\t\t\tcountrySelectProps,\n\n\t\t\t// Get \"rest\" properties (passed through to number `<input/>`).\n\t\t\tdefaultCountry,\n\t\t\tcountries,\n\t\t\tcountryOptionsOrder,\n\t\t\tlabels,\n\t\t\tflags,\n\t\t\tflagComponent,\n\t\t\tflagUrl,\n\t\t\taddInternationalOption,\n\t\t\tinternationalIcon,\n\t\t\tdisplayInitialValueAsLocalNumber,\n\t\t\tonCountryChange,\n\t\t\tlimitMaxLength,\n\t\t\treset,\n\t\t\tmetadata,\n\t\t\t...rest\n\t\t} = this.props\n\n\t\tconst {\n\t\t\tcountry,\n\t\t\tparsedInput,\n\t\t\tisFocused\n\t\t} = this.state\n\n\t\tconst InputComponent = smartCaret ? InputSmart : InputBasic\n\n\t\tconst countrySelectOptions = useMemoCountrySelectOptions(() => {\n\t\t\treturn sortCountryOptions(\n\t\t\t\tgetCountrySelectOptions(\n\t\t\t\t\tcountries || getCountries(metadata),\n\t\t\t\t\tlabels,\n\t\t\t\t\taddInternationalOption\n\t\t\t\t),\n\t\t\t\tgetSupportedCountryOptions(countryOptionsOrder, metadata)\n\t\t\t)\n\t\t}, [\n\t\t\tcountries,\n\t\t\tcountryOptionsOrder,\n\t\t\taddInternationalOption,\n\t\t\tlabels,\n\t\t\tmetadata\n\t\t])\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tstyle={style}\n\t\t\t\tclassName={classNames(className, 'PhoneInput', {\n\t\t\t\t\t'PhoneInput--focus': isFocused\n\t\t\t\t})}>\n\n\t\t\t\t{/* Country `<select/>` */}\n\t\t\t\t<CountrySelectComponent\n\t\t\t\t\tname={name ? `${name}Country` : undefined}\n\t\t\t\t\taria-label={labels.country}\n\t\t\t\t\t{...countrySelectProps}\n\t\t\t\t\tvalue={country}\n\t\t\t\t\toptions={countrySelectOptions}\n\t\t\t\t\tonChange={this.onCountryChange}\n\t\t\t\t\tonFocus={this.onCountryFocus}\n\t\t\t\t\tonBlur={this.onCountryBlur}\n\t\t\t\t\tdisabled={disabled || (countrySelectProps && countrySelectProps.disabled)}\n\t\t\t\t\ticonComponent={this.CountryIcon}/>\n\n\t\t\t\t{/* Phone number `<input/>` */}\n\t\t\t\t<InputComponent\n\t\t\t\t\tref={this.getInputRef()}\n\t\t\t\t\ttype=\"tel\"\n\t\t\t\t\tautoComplete={autoComplete}\n\t\t\t\t\t{...numberInputProps}\n\t\t\t\t\t{...rest}\n\t\t\t\t\tname={name}\n\t\t\t\t\tmetadata={metadata}\n\t\t\t\t\tcountry={country}\n\t\t\t\t\tvalue={parsedInput || ''}\n\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\tonFocus={this.onFocus}\n\t\t\t\t\tonBlur={this.onBlur}\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\tinputComponent={inputComponent}\n\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t'PhoneInputInput',\n\t\t\t\t\t\tnumberInputProps && numberInputProps.className,\n\t\t\t\t\t\trest.className\n\t\t\t\t\t)}/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\n// This wrapper is only to `.forwardRef()` to the `<input/>`.\nconst PhoneNumberInput = React.forwardRef((props, ref) => (\n\t<PhoneNumberInput_ {...props} inputRef={ref}/>\n))\n\nPhoneNumberInput.propTypes = {\n\t/**\n\t * Phone number in `E.164` format.\n\t *\n\t * Example:\n\t *\n\t * `\"+12223333333\"`\n\t */\n\tvalue: PropTypes.string,\n\n\t/**\n\t * Updates the `value` as the user inputs the phone number.\n\t */\n\tonChange: PropTypes.func.isRequired,\n\n\t/**\n\t * Toggles the `--focus` CSS class.\n\t * @ignore\n\t */\n\tonFocus: PropTypes.func,\n\n\t/**\n\t * `onBlur` is usually passed by `redux-form`.\n\t * @ignore\n\t */\n\tonBlur: PropTypes.func,\n\n\t/**\n\t * `onKeyDown` handler (e.g. to handle Enter key press).\n\t * @ignore\n\t */\n\tonKeyDown: PropTypes.func,\n\n\t/**\n\t * Set to `true` to disable both the phone number `<input/>`\n\t * and the country `<select/>`.\n\t */\n\tdisabled: PropTypes.bool,\n\n\t/**\n\t * Sets `autoComplete` property for phone number `<input/>`.\n\t *\n\t * Web browser's \"autocomplete\" feature\n\t * remembers the phone number being input\n\t * and can also autofill the `<input/>`\n\t * with previously remembered phone numbers.\n\t *\n\t * https://developers.google.com\n\t * /web/updates/2015/06/checkout-faster-with-autofill\n\t *\n\t * For example, can be used to turn it off:\n\t *\n\t * \"So when should you use `autocomplete=\"off\"`?\n\t *  One example is when you've implemented your own version\n\t *  of autocomplete for search. Another example is any form field\n\t *  where users will input and submit different kinds of information\n\t *  where it would not be useful to have the browser remember\n\t *  what was submitted previously\".\n\t */\n\t// (is `\"tel\"` by default)\n\tautoComplete: PropTypes.string.isRequired,\n\n\t/**\n\t * Set to `true` to show the initial `value` in\n\t * \"national\" format rather than \"international\".\n\t *\n\t * For example, if this flag is set to `true`\n\t * and the initial `value=\"+12133734253\"` is passed\n\t * then the `<input/>` value will be `\"(213) 373-4253\"`.\n\t *\n\t * By default, this flag is set to `false`,\n\t * meaning that if the initial `value=\"+12133734253\"` is passed\n\t * then the `<input/>` value will be `\"+1 213 373 4253\"`.\n\t *\n\t * The reason for such default behaviour is that\n\t * the newer generation grows up when there are no stationary phones\n\t * and therefore everyone inputs phone numbers in international format\n\t * in their smartphones so people gradually get more accustomed to\n\t * writing phone numbers in international format rather than in local format.\n\t * Future people won't be using \"national\" format, only \"international\".\n\t */\n\t// (is `false` by default)\n\tdisplayInitialValueAsLocalNumber: PropTypes.bool.isRequired,\n\n\t/**\n\t * The country to be selected by default.\n\t * For example, can be set after a GeoIP lookup.\n\t *\n\t * Example: `\"US\"`.\n\t */\n\t// A two-letter country code (\"ISO 3166-1 alpha-2\").\n\tdefaultCountry: PropTypes.string,\n\n\t/**\n\t * If specified, only these countries will be available for selection.\n\t *\n\t * Example:\n\t *\n\t * `[\"RU\", \"UA\", \"KZ\"]`\n\t */\n\tcountries: PropTypes.arrayOf(PropTypes.string),\n\n\t/**\n\t * Custom country `<select/>` option names.\n\t * Also some labels like \"ext\" and country `<select/>` `aria-label`.\n\t *\n\t * Example:\n\t *\n\t * `{ \"ZZ\": \"Международный\", RU: \"Россия\", US: \"США\", ... }`\n\t *\n\t * See the `locales` directory for examples.\n\t */\n\tlabels: labelsPropType.isRequired,\n\n\t/**\n\t * A URL template of a country flag, where\n\t * \"{XX}\" is a two-letter country code in upper case,\n\t * or where \"{xx}\" is a two-letter country code in lower case.\n\t * By default it points to `country-flag-icons` github pages website.\n\t * I imagine someone might want to download those country flag icons\n\t * and host them on their own servers instead\n\t * (all flags are available in the `country-flag-icons` library).\n\t * There's a catch though: new countries may be added in future,\n\t * so when hosting country flag icons on your own server\n\t * one should check the `CHANGELOG.md` every time before updating this library,\n\t * otherwise there's a possibility that some new country flag would be missing.\n\t */\n\tflagUrl: PropTypes.string.isRequired,\n\n\t/**\n\t * Custom country flag icon components.\n\t * These flags will be used instead of the default ones.\n\t * The the \"Flags\" section of the readme for more info.\n\t *\n\t * The shape is an object where keys are country codes\n\t * and values are flag icon components.\n\t * Flag icon components receive the same properties\n\t * as `flagComponent` (see below).\n\t *\n\t * Example:\n\t *\n\t * `{ \"RU\": (props) => <img src=\"...\"/> }`\n\t *\n\t * Example:\n\t *\n\t * `import flags from 'country-flag-icons/react/3x2'`\n\t *\n\t * `import PhoneInput from 'react-phone-number-input'`\n\t *\n\t * `<PhoneInput flags={flags} .../>`\n\t */\n\tflags: PropTypes.objectOf(PropTypes.elementType),\n\n\t/**\n\t * Country flag icon component.\n\t *\n\t * Takes properties:\n\t *\n\t * * `country: string` — The country code.\n\t * * `countryName: string` — The country name.\n\t * * `flagUrl: string` — The `flagUrl` property (see above).\n\t * * `flags: object` — The `flags` property (see above).\n\t */\n\tflagComponent: PropTypes.elementType.isRequired,\n\n\t/**\n\t * Set to `false` to remove the \"International\" option from country `<select/>`.\n\t */\n\taddInternationalOption: PropTypes.bool.isRequired,\n\n\t/**\n\t * \"International\" icon component.\n\t * Should have the same aspect ratio.\n\t *\n\t * Receives properties:\n\t *\n\t * * `title: string` — \"International\" country option label.\n\t */\n\tinternationalIcon: PropTypes.elementType.isRequired,\n\n\t/**\n\t * Can be used to place some countries on top of the list of country `<select/>` options.\n\t *\n\t * * `\"|\"` — inserts a separator.\n\t * * `\"...\"` — means \"the rest of the countries\" (can be omitted, in which case it will automatically be added at the end).\n\t *\n\t * Example:\n\t *\n\t * `[\"US\", \"CA\", \"AU\", \"|\", \"...\"]`\n\t */\n\tcountryOptionsOrder: PropTypes.arrayOf(PropTypes.string),\n\n\t/**\n\t * `<Phone/>` component CSS style object.\n\t */\n\tstyle: PropTypes.object,\n\n\t/**\n\t * `<Phone/>` component CSS class.\n\t */\n\tclassName: PropTypes.string,\n\n\t/**\n\t * Country `<select/>` component.\n\t *\n\t * Receives properties:\n\t *\n\t * * `name: string?` — HTML `name` attribute.\n\t * * `value: string?` — The currently selected country code.\n\t * * `onChange(value: string?)` — Updates the `value`.\n\t * * `onFocus()` — Is used to toggle the `--focus` CSS class.\n\t * * `onBlur()` — Is used to toggle the `--focus` CSS class.\n\t * * `options: object[]` — The list of all selectable countries (including \"International\") each being an object of shape `{ value: string?, label: string }`.\n\t * * `iconComponent: PropTypes.elementType` — React component that renders a country icon: `<Icon country={value}/>`. If `country` is `undefined` then it renders an \"International\" icon.\n\t * * `disabled: boolean?` — HTML `disabled` attribute.\n\t * * `tabIndex: (number|string)?` — HTML `tabIndex` attribute.\n\t * * `className: string` — CSS class name.\n\t */\n\tcountrySelectComponent: PropTypes.elementType.isRequired,\n\n\t/**\n\t * Country `<select/>` component props.\n\t * Along with the usual DOM properties such as `aria-label` and `tabIndex`,\n\t * some custom properties are supported, such as `arrowComponent` and `unicodeFlags`.\n\t */\n\tcountrySelectProps: PropTypes.object,\n\n\t/**\n\t * Phone number `<input/>` component.\n\t *\n\t * Receives properties:\n\t *\n\t * * `value: string` — The formatted `value`.\n\t * * `onChange(event: Event)` — Updates the formatted `value` from `event.target.value`.\n\t * * `onFocus()` — Is used to toggle the `--focus` CSS class.\n\t * * `onBlur()` — Is used to toggle the `--focus` CSS class.\n\t * * Other properties like `type=\"tel\"` or `autoComplete=\"tel\"` that should be passed through to the DOM `<input/>`.\n\t *\n\t * Must also either use `React.forwardRef()` to \"forward\" `ref` to the `<input/>` or implement `.focus()` method.\n\t */\n\tinputComponent: PropTypes.elementType.isRequired,\n\n\t/**\n\t * Phone number `<input/>` component props.\n\t */\n\tnumberInputProps: PropTypes.object,\n\n\t/**\n\t * By default, the caret position is being \"intelligently\" managed\n\t * while a user inputs a phone number.\n\t * This \"smart\" caret behavior can be turned off\n\t * by passing `smartCaret={false}` property.\n\t * This is just an \"escape hatch\" for any possible caret position issues.\n\t */\n\t// Is `true` by default.\n\tsmartCaret: PropTypes.bool.isRequired,\n\n\t/**\n\t * If set to `true` the phone number input will get trimmed\n\t * if it exceeds the maximum length for the country.\n\t */\n\tlimitMaxLength: PropTypes.bool.isRequired,\n\n\t/**\n\t * `libphonenumber-js` metadata.\n\t *\n\t * Can be used to pass custom `libphonenumber-js` metadata\n\t * to reduce the overall bundle size for those who compile \"custom\" metadata.\n\t */\n\tmetadata: metadataPropType.isRequired,\n\n\t/**\n\t * Is called every time the selected country changes:\n\t * either programmatically or when user selects it manually from the list.\n\t */\n\t// People have been asking for a way to get the selected country.\n\t// @see  https://github.com/catamphetamine/react-phone-number-input/issues/128\n\t// For some it's just a \"business requirement\".\n\t// I guess it's about gathering as much info on the user as a website can\n\t// without introducing any addional fields that would complicate the form\n\t// therefore reducing \"conversion\" (that's a marketing term).\n\t// Assuming that the phone number's country is the user's country\n\t// is not 100% correct but in most cases I guess it's valid.\n\tonCountryChange: PropTypes.func\n}\n\nPhoneNumberInput.defaultProps = {\n\t/**\n\t * Remember (and autofill) the value as a phone number.\n\t */\n\tautoComplete: 'tel',\n\n\t/**\n\t * Flag icon component.\n\t */\n\tflagComponent: Flag,\n\n\t/**\n\t * By default, uses icons from `country-flag-icons` github pages website.\n\t */\n\t// Must be equal to `flagUrl` in `./CountryIcon.js`.\n\tflagUrl: 'https://catamphetamine.github.io/country-flag-icons/3x2/{XX}.svg',\n\n\t/**\n\t * Default \"International\" country `<select/>` option icon.\n\t */\n\tinternationalIcon: InternationalIcon,\n\n\t/**\n\t * Phone number `<input/>` component.\n\t */\n\tinputComponent: 'input',\n\n\t/**\n\t * Some users requested a way to reset the component:\n\t * both number `<input/>` and country `<select/>`.\n\t * Whenever `reset` property changes both number `<input/>`\n\t * and country `<select/>` are reset.\n\t * It's not implemented as some instance `.reset()` method\n\t * because `ref` is forwarded to `<input/>`.\n\t * It's also not replaced with just resetting `country` on\n\t * external `value` reset, because a user could select a country\n\t * and then not input any `value`, and so the selected country\n\t * would be \"stuck\", if not using this `reset` property.\n\t */\n\t// https://github.com/catamphetamine/react-phone-number-input/issues/300\n\treset: PropTypes.any,\n\n\t/**\n\t * Don't convert the initially passed phone number `value`\n\t * to a national phone number for its country.\n\t * The reason is that the newer generation grows up when\n\t * there are no stationary phones and therefore everyone inputs\n\t * phone numbers with a `+` in their smartphones\n\t * so phone numbers written in international form\n\t * are gradually being considered more natural than local ones.\n\t */\n\tdisplayInitialValueAsLocalNumber: false,\n\n\t/**\n\t * Set to `false` to use \"basic\" caret instead of the \"smart\" one.\n\t */\n\tsmartCaret: true,\n\n\t/**\n\t * Whether to add the \"International\" option\n\t * to the list of countries.\n\t */\n\taddInternationalOption: true,\n\n\t/**\n\t * If set to `true` the phone number input will get trimmed\n\t * if it exceeds the maximum length for the country.\n\t */\n\tlimitMaxLength: false\n}\n\nexport default PhoneNumberInput\n\nfunction generateParsedInput(value, phoneNumber, { displayInitialValueAsLocalNumber }) {\n\t// If the `value` (E.164 phone number)\n\t// belongs to the currently selected country\n\t// and `displayInitialValueAsLocalNumber` property is `true`\n\t// then convert `value` (E.164 phone number)\n\t// to a local phone number digits.\n\t// E.g. '+78005553535' -> '88005553535'.\n\tif (displayInitialValueAsLocalNumber && phoneNumber && phoneNumber.country) {\n\t\treturn generateNationalNumberDigits(phoneNumber)\n\t}\n\treturn value\n}\n\nlet countrySelectOptionsMemo\nlet countrySelectOptionsMemoDependencies\nfunction useMemoCountrySelectOptions(generator, dependencies) {\n\tif (!countrySelectOptionsMemoDependencies ||\n\t\t!areEqualArrays(dependencies, countrySelectOptionsMemoDependencies)) {\n\t\tcountrySelectOptionsMemo = generator()\n\t\tcountrySelectOptionsMemoDependencies = dependencies\n\t}\n\treturn countrySelectOptionsMemo\n}\n\nfunction areEqualArrays(a, b) {\n\tif (a.length !== b.length) {\n\t\treturn false\n\t}\n\tlet i = 0\n\twhile (i < a.length) {\n\t\tif (a[i] !== b[i]) {\n\t\t\treturn false\n\t\t}\n\t\ti++\n\t}\n\treturn true\n}\n"],"file":"PhoneInputWithCountry.js"}